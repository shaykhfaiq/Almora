<h2 class="mb-4">Variants for <%= @product.name %></h2>

<table class="table table-bordered">
  <thead>
    <tr>
      <th>SKU</th>
      <th>Option Values</th>
      <th>Price</th>
      <th>Stock</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <% @variants.each do |variant| %>
      <tr>
        <td><%= variant.sku %></td>
        <td><%= variant.option_values.map(&:value).join(', ') %></td>
        <td>
          <%= form_with model: [@product, variant], url: dashboard_seller_product_variant_path(@product, variant), method: :patch, local: true do |f| %>
            <%= f.number_field :price, step: 0.01, class: "form-control", value: variant.price %>
        </td>
        <td>
            <%= f.number_field :stock_quantity, class: "form-control", value: variant.stock_quantity %>
        </td>
        <td>
            <%= f.submit "Save", class: "btn btn-success btn-sm" %>
          <% end %>

          <%= button_to "Delete", dashboard_seller_product_variant_path(@product, variant), method: :delete, data: { confirm: "Are you sure?" }, class: "btn btn-danger btn-sm mt-1" %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
